{"ast":null,"code":"var _jsxFileName = \"/Users/ekincare/Desktop/harish/liorel-react/src/components/TagModal.js\";\nimport React, { useState } from \"react\";\nimport { Modal, Input, Select, message } from \"antd\";\nimport Api from \"../services/api\";\nconst {\n  Option\n} = Select;\n\nconst TagModal = ({\n  tag = {},\n  tags = [],\n  closeModal,\n  onSaveTag\n}) => {\n  const [name, updateName] = useState(tag[\"name\"] || undefined);\n\n  const saveTag = () => {\n    if (tag['id']) {\n      onEdit();\n    } else {\n      Api.createTag({\n        data: requestBody()\n      }, onSuccess, onFailure);\n    }\n  };\n\n  const onEdit = () => {\n    Modal.confirm({\n      icon: \"\",\n      title: `This tag is associated with ${tag['associated_users'].length} user(s), are you sure want to update this tag?`,\n      onOk: () => {\n        Api.updateTag({\n          id: tag['id'],\n          data: requestBody()\n        }, onSuccess, onFailure);\n      }\n    });\n  };\n\n  const onSuccess = response => {\n    message.success(\"Tag saved successfully\");\n    onSaveTag();\n  };\n\n  const onFailure = error => {\n    if (error.response.data) {\n      message.error(error.response.data['message']);\n    } else {\n      message.error('Failed to save tag');\n    }\n  };\n\n  const requestBody = () => {\n    let body = {\n      name: name\n    };\n\n    if (tag[\"id\"]) {\n      body[\"id\"] = tag[\"id\"];\n    }\n\n    return {\n      tag: body\n    };\n  };\n\n  const onChange = e => {\n    updateName(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    visible: true,\n    title: tag[\"id\"] ? \"Update Tag\" : \"Add Tag\",\n    onOk: saveTag,\n    onCancel: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Name\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: onChange,\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default TagModal;","map":{"version":3,"sources":["/Users/ekincare/Desktop/harish/liorel-react/src/components/TagModal.js"],"names":["React","useState","Modal","Input","Select","message","Api","Option","TagModal","tag","tags","closeModal","onSaveTag","name","updateName","undefined","saveTag","onEdit","createTag","data","requestBody","onSuccess","onFailure","confirm","icon","title","length","onOk","updateTag","id","response","success","error","body","onChange","e","target","value","marginBottom","height"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Modal, Input, Select, message } from \"antd\";\nimport Api from \"../services/api\";\n\nconst { Option } = Select;\n\nconst TagModal = ({ tag = {}, tags = [], closeModal, onSaveTag }) => {\n  const [name, updateName] = useState(tag[\"name\"] || undefined);\n\n  const saveTag = () => {\n  \tif (tag['id']){\n      onEdit()\n  \t} else {\n  \t\tApi.createTag({ data: requestBody() }, onSuccess, onFailure);\n  \t}\n  };\n\n  const onEdit = () => {\n    Modal.confirm({\n      icon: \"\",\n      title: `This tag is associated with ${tag['associated_users'].length} user(s), are you sure want to update this tag?`,\n      onOk: () => {Api.updateTag({ id: tag['id'], data: requestBody() }, onSuccess, onFailure)},\n    })\n  }\n\n  const onSuccess = (response) => {\n    message.success(\"Tag saved successfully\");\n    onSaveTag()\n  };\n\n  const onFailure = (error) => {\n  \tif (error.response.data) {\n    \tmessage.error(error.response.data['message']);\n    } else { \n    \tmessage.error('Failed to save tag')\n    }\t\n  };\n\n  const requestBody = () => {\n    let body = {\n      name: name\n    };\n    if (tag[\"id\"]) {\n      body[\"id\"] = tag[\"id\"];\n    }\n    return { tag: body };\n  };\n\n  const onChange = (e) => {\n    updateName(e.target.value);\n  };\n\n  return (\n    <Modal\n      visible={true}\n      title={tag[\"id\"] ? \"Update Tag\" : \"Add Tag\"}\n      onOk={saveTag}\n      onCancel={closeModal}\n    >\n      <Input\n        type=\"text\"\n        placeholder=\"Name\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={onChange}\n        value={name}\n      />\n    </Modal>\n  );\n};\n\nexport default TagModal;\n"]},"metadata":{},"sourceType":"module"}