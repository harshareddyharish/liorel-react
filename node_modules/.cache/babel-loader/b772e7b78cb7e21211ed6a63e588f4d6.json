{"ast":null,"code":"var _jsxFileName = \"/Users/ekincare/Desktop/harish/liorel-react/src/pages/LoginForm.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { storeToken, storeStaff } from \"../Auth\";\nimport { HOST } from \"../Url\";\nimport Form from \"antd/lib/form\";\nimport { Icon, Input, Button } from \"antd\";\nimport { Redirect } from \"react-router-dom\";\nimport { Box } from 'rebass';\n\nconst LoginForm = () => {\n  const [loggedIn, updateLoggedIn] = useState(false);\n  const [email, updateEmail] = useState(undefined);\n  const [password, updatePassword] = useState(undefined);\n\n  const handleLogin = () => {\n    axios.post(HOST + \"/sign_in\", {\n      email: email,\n      password: password\n    }).then(function (response) {\n      let key = response.headers[\"USER-TOKEN\"];\n\n      if (key !== undefined && key.length > 20) {\n        storeToken(response.headers[\"USER-TOKEN\"]);\n        storeStaff(\"USER_ID\", response.data[\"user\"][\"id\"]);\n        storeStaff(\"USER_NAME\", response.data[\"user\"][\"name\"]);\n        storeStaff(\"USER_EMAIL\", response.data[\"user\"][\"email\"]);\n        updateLoggedIn(true);\n      }\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.status);\n      }\n    });\n  };\n\n  const handleSubmit = e => {};\n\n  const changeUserName = e => {\n    updateEmail(e.target.value);\n  };\n\n  const changePassword = e => {\n    updatePassword(e.target.value);\n  };\n\n  const Form = () => {\n    return /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"username\",\n      onChange: changeUserName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      onChange: changePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  if (loggedIn) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return Form();\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/ekincare/Desktop/harish/liorel-react/src/pages/LoginForm.js"],"names":["React","useState","axios","storeToken","storeStaff","HOST","Form","Icon","Input","Button","Redirect","Box","LoginForm","loggedIn","updateLoggedIn","email","updateEmail","undefined","password","updatePassword","handleLogin","post","then","response","key","headers","length","data","catch","error","console","log","status","handleSubmit","e","changeUserName","target","value","changePassword"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  storeToken,\n  storeStaff\n} from \"../Auth\";\nimport { HOST } from \"../Url\";\nimport Form from \"antd/lib/form\";\nimport { Icon, Input, Button } from \"antd\";\nimport { Redirect } from \"react-router-dom\";\nimport { Box } from 'rebass';\n\nconst LoginForm = () => {\n  \n  const [loggedIn, updateLoggedIn] = useState(false)\n  const [email, updateEmail] = useState(undefined)\n  const [password, updatePassword] = useState(undefined)\n\n  const handleLogin = () => {\n    axios\n      .post(HOST + \"/sign_in\", { email: email, password: password })\n      .then(function(response) {\n        let key = response.headers[\"USER-TOKEN\"];\n        if (key !== undefined && key.length > 20) {\n          storeToken(response.headers[\"USER-TOKEN\"]);\n          storeStaff(\"USER_ID\", response.data[\"user\"][\"id\"]);\n          storeStaff(\"USER_NAME\", response.data[\"user\"][\"name\"]);\n          storeStaff(\"USER_EMAIL\", response.data[\"user\"][\"email\"]);\n          updateLoggedIn(true)\n        }\n      })\n      .catch(function(error) {\n        if (error.response) {\n          console.log(error.response.status);\n        }\n      });\n  }\n\n  const handleSubmit = (e) => {\n     \n  };\n\n  const changeUserName = (e) => {\n    updateEmail(e.target.value)\n  }\n\n  const changePassword = (e) => {\n    updatePassword(e.target.value)\n  }\n\n  const Form = () => {\n    return(\n      <Box>\n        <Input type='username' onChange={changeUserName} />\n        <Input type='password' onChange={changePassword} />\n      </Box>  \n    )\n  }\n\n  if (loggedIn) {\n    return <Redirect to={\"/users\"} />\n  }\n\n  return Form()\n}\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}