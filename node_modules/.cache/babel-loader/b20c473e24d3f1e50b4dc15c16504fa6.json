{"ast":null,"code":"var _jsxFileName = \"/Users/ekincare/Desktop/harish/liorel-react/src/pages/AccountPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Flex, Box } from \"rebass\";\nimport { Input, Select, message, Button } from 'antd';\nimport Api from '../services/api';\nconst {\n  Option\n} = Select;\nconst userId = localStorage.getItem('USER_ID');\n\nconst AccountPage = () => {\n  const [user, updateUser] = useState(undefined);\n  const [tags, updateTags] = useState(undefined);\n  useEffect(() => {\n    fetchUser();\n    fetchTags();\n  }, []);\n\n  const fetchUser = () => {\n    Api.fetchUser({\n      id: userId\n    }, onSuccess, onFailure);\n  };\n\n  const onSuccess = response => {\n    updateUser(response.data['user']);\n  };\n\n  const onFailure = error => {\n    message.error('Failed to fetch user details');\n  };\n\n  const fetchTags = () => {\n    Api.fetchTags({}, onTagsSuccess, onTagsFailure);\n  };\n\n  const onTagsSuccess = response => {\n    updateTags(response.data[\"tags\"]);\n  };\n\n  const onTagsFailure = error => {\n    message.error(\"Failed to fetch tags\");\n  };\n\n  const handleValidations = () => {\n    if (!first_name) {\n      message.error('First name is mandatory');\n      return false;\n    }\n\n    return true;\n  };\n\n  const saveUser = () => {\n    if (handleValidations()) {\n      Api.updateUser({\n        id: userId,\n        data: user\n      }, onSaveSuccess, onSaveFailure);\n    }\n  };\n\n  const onSaveSuccess = () => {\n    message.success('Successfully updated');\n  };\n\n  const onSaveFailure = error => {\n    if (error.response.data) {\n      message.error(error.response.data['message']);\n    } else {\n      message.error('Failed to updated');\n    }\n  };\n\n  const onChange = (key, e) => {\n    let data = user;\n\n    if (key === \"fname\") {\n      updateUser({ ...user,\n        first_name: e.target.value\n      });\n    } else if (key === \"lname\") {\n      updateUser({ ...user,\n        last_name: e.target.value\n      });\n    } else if (key === \"email\") {\n      updateUser({ ...user,\n        email: e.target.value\n      });\n    } else if (key === \"password\") {\n      updateUser({ ...user,\n        password: e.target.value\n      });\n    } else if (key === \"address\") {\n      updateUser({ ...user,\n        address: e.target.value\n      });\n    } else if (key === \"city\") {\n      updateUser({ ...user,\n        city: e.target.value\n      });\n    } else if (key === \"state\") {\n      updateUser({ ...user,\n        state: e.target.value\n      });\n    } else if (key === \"zip\") {\n      updateUser({ ...user,\n        zip: e.target.value\n      });\n    }\n  };\n\n  const onTagsChange = tags => {\n    let data = user;\n    let uniqueSet = [...new Set(tags)];\n    updateUser({ ...data,\n      tags: uniqueSet\n    });\n  };\n\n  if (!user) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Flex, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: \"30%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    width: \"40%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"First Name*\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"fname\", e),\n    value: user['first_name'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Last Name\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"lname\", e),\n    value: user['last_name'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Email*\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"email\", e),\n    value: user['email'],\n    disabled: user[\"id\"] ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"password\", e),\n    value: user['password'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Address\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"address\", e),\n    value: user['address'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"City\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"city\", e),\n    value: user['city'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"State\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"state\", e),\n    value: user['state'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Zip\",\n    style: {\n      marginBottom: 20,\n      height: 40\n    },\n    onChange: e => onChange(\"zip\", e),\n    value: user['zip'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    placeholder: \"Tags\",\n    defaultValue: user['tags'],\n    style: {\n      width: \"100%\",\n      height: 40\n    },\n    onChange: onTagsChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, tags && tags.map(tag => /*#__PURE__*/React.createElement(Option, {\n    value: tag.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, tag.name))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    block: true,\n    onClick: saveUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(Box, {\n    width: \"30%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }));\n};\n\nexport default AccountPage;","map":{"version":3,"sources":["/Users/ekincare/Desktop/harish/liorel-react/src/pages/AccountPage.js"],"names":["React","useState","useEffect","Flex","Box","Input","Select","message","Button","Api","Option","userId","localStorage","getItem","AccountPage","user","updateUser","undefined","tags","updateTags","fetchUser","fetchTags","id","onSuccess","onFailure","response","data","error","onTagsSuccess","onTagsFailure","handleValidations","first_name","saveUser","onSaveSuccess","onSaveFailure","success","onChange","key","e","target","value","last_name","email","password","address","city","state","zip","onTagsChange","uniqueSet","Set","marginBottom","height","width","map","tag","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Flex, Box } from \"rebass\";\nimport { Input, Select, message, Button } from 'antd';\nimport Api from '../services/api';\n\nconst { Option } = Select;\n\nconst userId = localStorage.getItem('USER_ID')\n\nconst AccountPage = () => {\n  const [user, updateUser] = useState(undefined);\n  const [tags, updateTags] = useState(undefined);\n\n  useEffect(() => {\n    fetchUser()\n    fetchTags()\n  }, []);\n\n  const fetchUser = () => {\n  \tApi.fetchUser({ id: userId }, onSuccess, onFailure)\n  };\n\n  const onSuccess = (response) => {\n  \tupdateUser(response.data['user'])\n  }\n\n  const onFailure = (error) => {\n  \tmessage.error('Failed to fetch user details')\n  }\n\n  const fetchTags = () => {\n    Api.fetchTags({}, onTagsSuccess, onTagsFailure);\n  };\n\n  const onTagsSuccess = (response) => {\n    updateTags(response.data[\"tags\"]);\n  };\n\n  const onTagsFailure = (error) => {\n    message.error(\"Failed to fetch tags\");\n  };\n\n  const handleValidations = () => {\n  \tif (!first_name) {\n  \t\tmessage.error('First name is mandatory')\n  \t\treturn false\n  \t}\n  \treturn true\n  }\n\n  const saveUser = () => {\n  \tif (handleValidations()) {\n  \t\tApi.updateUser({ id: userId, data: user }, onSaveSuccess, onSaveFailure);\n  \t}\n  }\n\n  const onSaveSuccess = () => {\n  \tmessage.success('Successfully updated')\n  }\n\n  const onSaveFailure = (error) => {\n  \tif (error.response.data) {\n  \t\tmessage.error(error.response.data['message'])\n  \t} else {\n  \t\tmessage.error('Failed to updated')\n  \t}\n  }\n\n  const onChange = (key, e) => {\n  \tlet data = user\n    if (key === \"fname\") {\n      updateUser({...user, first_name: e.target.value})\n    } else if (key === \"lname\") {\n    \tupdateUser({...user, last_name: e.target.value})\n    } else if (key === \"email\") {\n    \tupdateUser({...user, email: e.target.value})\n    } else if (key === \"password\") {\n    \tupdateUser({...user, password: e.target.value})\n    } else if (key === \"address\") {\n    \tupdateUser({...user, address: e.target.value})\n    } else if (key === \"city\") {\n    \tupdateUser({...user, city: e.target.value})\n    } else if (key === \"state\") {\n    \tupdateUser({...user, state: e.target.value})\n    } else if (key === \"zip\") {\n    \tupdateUser({...user, zip: e.target.value})\n    }\n  };\n\n  const onTagsChange = (tags) => {\n  \tlet data = user\n  \tlet uniqueSet = [...new Set(tags)];\n  \tupdateUser({...data, tags: uniqueSet })\n  };\n\n  if (!user) { return null }\n\n  return (\n  \t<Flex>\n  \t<Box width='30%' />\n    <Box width='40%'>\n      <Input\n        type=\"text\"\n        placeholder=\"First Name*\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"fname\", e)}\n        value={user['first_name']}\n      />\n      <Input\n        type=\"text\"\n        placeholder=\"Last Name\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"lname\", e)}\n        value={user['last_name']}\n      />\n      <Input\n        type=\"text\"\n        placeholder=\"Email*\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"email\", e)}\n        value={user['email']}\n        disabled={user[\"id\"] ? true : false}\n      />\n      <Input\n        type=\"password\"\n        placeholder=\"Password\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"password\", e)}\n        value={user['password']}\n      />\n      <Input\n        type=\"text\"\n        placeholder=\"Address\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"address\", e)}\n        value={user['address']}\n      />\n      <Input\n        type=\"text\"\n        placeholder=\"City\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"city\", e)}\n        value={user['city']}\n      />\n      <Input\n        type=\"text\"\n        placeholder=\"State\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"state\", e)}\n        value={user['state']}\n      />\n      <Input\n        type=\"text\"\n        placeholder=\"Zip\"\n        style={{ marginBottom: 20, height: 40 }}\n        onChange={(e) => onChange(\"zip\", e)}\n        value={user['zip']}\n      />\n      <Select\n        mode=\"multiple\"\n        placeholder=\"Tags\"\n        defaultValue={user['tags']}\n        style={{ width: \"100%\", height: 40 }}\n        onChange={onTagsChange}\n      >\n        {tags && tags.map((tag) => (\n          <Option value={tag.id}>{tag.name}</Option>\n        ))}\n      </Select>\n      <br />\n      <br />\n      <Button type='primary' block onClick={saveUser}>Save</Button>\n    </Box>\n    <Box width='30%' />\n    </Flex>\n  );\n};\n\nexport default AccountPage;\n"]},"metadata":{},"sourceType":"module"}